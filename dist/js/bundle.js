!function(t){var e={};function i(n){if(e[n])return e[n].exports;var s=e[n]={i:n,l:!1,exports:{}};return t[n].call(s.exports,s,s.exports,i),s.l=!0,s.exports}i.m=t,i.c=e,i.d=function(t,e,n){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},i.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var s in t)i.d(n,s,function(e){return t[e]}.bind(null,s));return n},i.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="",i(i.s=0)}([function(t,e,i){"use strict";function n(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}i.r(e);var s=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.renderParam={clearColor:15592945,width:window.innerWidth,height:window.innerHeight},this.cameraParam={fov:60,near:.1,far:10,lookAt:new THREE.Vector3(0,0,0),x:0,y:0,z:1},this.scene=null,this.camera=null,this.renderer=null,this.geometry=null,this.material=null,this.mesh=null,this.isInitialized=!1}var e,i,s;return e=t,(i=[{key:"init",value:function(){this._setScene(),this._setRender(),this._setCamera(),this.isInitialized=!0}},{key:"_setScene",value:function(){this.scene=new THREE.Scene}},{key:"_setRender",value:function(){this.renderer=new THREE.WebGLRenderer,this.renderer.setClearColor(new THREE.Color(this.renderParam.clearColor)),this.renderer.setSize(this.renderParam.width,this.renderParam.height),document.querySelector("#webgl").appendChild(this.renderer.domElement)}},{key:"_setCamera",value:function(){this.isInitialized||(this.camera=new THREE.PerspectiveCamera(0,0,this.cameraParam.near,this.cameraParam.far),this.camera.position.set(this.cameraParam.x,this.cameraParam.y,this.cameraParam.z),this.camera.lookAt(this.cameraParam.lookAt));var t=window.innerWidth,e=window.innerHeight;this.camera.aspect=t/e,this.camera.fov=2*THREE.MathUtils.radToDeg(Math.atan(t/this.camera.aspect/(2*this.camera.position.z))),this.camera.updateProjectionMatrix(),this.renderer.setSize(t,e)}},{key:"_render",value:function(){this.renderer.render(this.scene,this.camera)}},{key:"onResize",value:function(){this._setCamera()}},{key:"onRaf",value:function(){this._render()}}])&&n(e.prototype,i),s&&n(e,s),t}();function a(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var r=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}var e,i,n;return e=t,n=[{key:"randomIntFromRange",value:function(t,e){return Math.floor(Math.random()*(e-t+1)+t)}},{key:"randomColor",value:function(t){return t[Math.floor(Math.random()*t.length)]}}],(i=null)&&a(e.prototype,i),n&&a(e,n),t}();function o(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var h=function(){function t(e,i){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.x=e,this.y=i}var e,i,n;return e=t,(i=[{key:"set",value:function(t,e){return this.x=t,this.y=e,this}},{key:"clone",value:function(){return new t(this.x,this.y)}},{key:"add",value:function(t){return this.x+=t.x,this.y+=t.y,this}},{key:"sub",value:function(t){return this.x-=t.x,this.y-=t.y,this}},{key:"mult",value:function(t){return this.x*=t.x,this.y*=t.y,this}},{key:"magnitude",value:function(){return Math.sqrt(this.x*this.x+this.y*this.y)}},{key:"setFromScalarAngle",value:function(t,e){this.x=Math.cos(e)*t,this.y=Math.sin(e)*t}}])&&o(e.prototype,i),n&&o(e,n),t}();function u(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var c=function(){function t(e,i,n,s,a,r,o){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.canvas=e,this.position=new h(i,n),this.velocity=new h,this.velocity.setFromScalarAngle(s,a),this.radius=r,this.color=o,this.range=100}var e,i,n;return e=t,(i=[{key:"update",value:function(){this.position.add(this.velocity),this.position.x-this.range>this.canvas.width&&(this.position.x=this.canvas.width/2,this.position.y=this.canvas.height/2),this.position.x+this.range<0&&(this.position.x=this.canvas.width/2,this.position.y=this.canvas.height/2),this.position.y-this.range>this.canvas.height&&(this.position.x=this.canvas.width/2,this.position.y=this.canvas.height/2),this.position.y+this.range<0&&(this.position.x=this.canvas.width/2,this.position.y=this.canvas.height/2)}}])&&u(e.prototype,i),n&&u(e,n),t}();function l(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var f=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.canvas=document.createElement("canvas"),this.ctx=this.canvas.getContext("2d"),this.width=this.canvas.width=window.innerWidth,this.height=this.canvas.height=window.innerHeight,this.particles=[],this.particleNum=100,this.colors=["#0952BD","#A5BFF0","#118CD6","#1AAEE8","#F2E8C9"],this.texture=null}var e,i,n;return e=t,(i=[{key:"init",value:function(){for(var t=0;t<this.particleNum;t++)this.particles.push(new c(this.canvas,this.canvas.width/2,this.canvas.height/2,8*Math.random()+2,Math.random()*Math.PI*2,r.randomIntFromRange(5,7),r.randomColor(this.colors)))}},{key:"draw",value:function(){for(var t=0;t<this.particleNum;t++){var e=this.particles[t];e.update(),this.ctx.save(),this.ctx.beginPath(),this.ctx.arc(e.position.x,e.position.y,e.radius,0,2*Math.PI),this.ctx.shadowColor=e.color,this.ctx.shadowBlur=5,this.ctx.shadowOffsetX=0,this.ctx.shadowOffsetY=0,this.ctx.globalAlpha="1",this.ctx.fillStyle=e.color,this.ctx.fill(),this.ctx.restore()}}},{key:"render",value:function(){this.ctx.fillStyle="hsla(260,40%,5%,.2)",this.ctx.fillRect(0,0,this.width,this.height),this.draw()}},{key:"onRaf",value:function(){this.render()}},{key:"_getTexture",value:function(){return this.texture=new THREE.Texture(this.canvas),this.texture.needsUpdate=!0,this.texture.minFilter=THREE.LinearFilter,this.texture}},{key:"onResize",value:function(){this.width=this.canvas.width=window.innerWidth,this.height=this.canvas.height=window.innerHeight}}])&&l(e.prototype,i),n&&l(e,n),t}();function d(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var m=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.meshWindowSizeRatio={x:.5,y:.5},this.geometryParm={width:1,height:1,widthSegments:1,heightSegments:1},this.materialParam={useWireframe:!1},this.stage=e,this.mesh=null,this.windowWidth=0,this.windowHeight=0,this.windowWidthHalf=0,this.windowHeightHalf=0,this.meshWidthHalf=0,this.meshHeightHalf=0,this.mouseX=null,this.mouseY=null,this.mouseRange=50,this.friction=10,this.canvas=new f}var e,i,n;return e=t,(i=[{key:"init",value:function(){this.canvas.init(),this._setWindowSize(),this._setMouse(),this._setMesh(),this._setMeshScale()}},{key:"_setWindowSize",value:function(){this.windowWidth=window.innerWidth,this.windowHeight=window.innerHeight,this.windowWidthHalf=.5*this.windowWidth,this.windowHeightHalf=.5*this.windowHeight}},{key:"_setMouse",value:function(){var t=this;window.addEventListener("mousemove",(function(e){t.mouseX=e.clientX,t.mouseY=e.clientY,t.mouseX/=t.windowWidth,t.mouseY/=t.windowHeight,t.mouseX=2*t.mouseX-1,t.mouseY=2*t.mouseY-1,t.mouseX*=t.mouseRange,t.mouseY*=t.mouseRange}))}},{key:"_setMesh",value:function(){var t=new THREE.PlaneBufferGeometry(this.geometryParm.width,this.geometryParm.height,this.geometryParm.widthSegments,this.geometryParm.heightSegments),e=new THREE.MeshBasicMaterial({map:this.canvas._getTexture()});this.mesh=new THREE.Mesh(t,e),this.stage.scene.add(this.mesh)}},{key:"_setMeshScale",value:function(){this.mesh.scale.x=window.innerWidth*this.meshWindowSizeRatio.x,this.mesh.scale.y=window.innerHeight*this.meshWindowSizeRatio.y,this.meshWidthHalf=.5*this.mesh.scale.x,this.meshHeightHalf=.5*this.mesh.scale.y}},{key:"_render",value:function(){var t=(this.mouseX-this.mesh.position.x)/this.friction,e=(-this.mouseY-this.mesh.position.y)/this.friction;this.mesh.position.x+=t,this.mesh.position.y+=e,this.mesh.rotation.x+=.5*-e/5e4,this.mesh.rotation.y+=.5*-t/5e4,this.mesh.material.map.needsUpdate=!0}},{key:"onResize",value:function(){this.canvas.onResize(),this._setWindowSize(),this._setMeshScale()}},{key:"onRaf",value:function(){this._render(),this.canvas.onRaf()}}])&&d(e.prototype,i),n&&d(e,n),t}();!function(){var t=new s;t.init();var e=new m(t);e.init(),window.addEventListener("resize",(function(){t.onResize(),e.onResize()}));!function i(){window.requestAnimationFrame((function(){t.onRaf(),e.onRaf(),i()}))}()}()}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vLy4vc3JjL3dlYmdsL3N0YWdlLmpzIiwid2VicGFjazovLy8uL3NyYy9jYW52YXMvdXRpbGl0eS5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvY2FudmFzL3ZlY3RvcjIuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2NhbnZhcy9wYXJ0aWNsZS5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvY2FudmFzL2NhbnZhcy5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvd2ViZ2wvbWVzaC5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvbWFpbi5qcyJdLCJuYW1lcyI6WyJpbnN0YWxsZWRNb2R1bGVzIiwiX193ZWJwYWNrX3JlcXVpcmVfXyIsIm1vZHVsZUlkIiwiZXhwb3J0cyIsIm1vZHVsZSIsImkiLCJsIiwibW9kdWxlcyIsImNhbGwiLCJtIiwiYyIsImQiLCJuYW1lIiwiZ2V0dGVyIiwibyIsIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwiZW51bWVyYWJsZSIsImdldCIsInIiLCJTeW1ib2wiLCJ0b1N0cmluZ1RhZyIsInZhbHVlIiwidCIsIm1vZGUiLCJfX2VzTW9kdWxlIiwibnMiLCJjcmVhdGUiLCJrZXkiLCJiaW5kIiwibiIsIm9iamVjdCIsInByb3BlcnR5IiwicHJvdG90eXBlIiwiaGFzT3duUHJvcGVydHkiLCJwIiwicyIsInN0YWdlIiwidGhpcyIsInJlbmRlclBhcmFtIiwiY2xlYXJDb2xvciIsIndpZHRoIiwid2luZG93IiwiaW5uZXJXaWR0aCIsImhlaWdodCIsImlubmVySGVpZ2h0IiwiY2FtZXJhUGFyYW0iLCJmb3YiLCJuZWFyIiwiZmFyIiwibG9va0F0IiwiVEhSRUUiLCJWZWN0b3IzIiwieCIsInkiLCJ6Iiwic2NlbmUiLCJjYW1lcmEiLCJyZW5kZXJlciIsImdlb21ldHJ5IiwibWF0ZXJpYWwiLCJtZXNoIiwiaXNJbml0aWFsaXplZCIsIl9zZXRTY2VuZSIsIl9zZXRSZW5kZXIiLCJfc2V0Q2FtZXJhIiwiU2NlbmUiLCJXZWJHTFJlbmRlcmVyIiwic2V0Q2xlYXJDb2xvciIsIkNvbG9yIiwic2V0U2l6ZSIsImRvY3VtZW50IiwicXVlcnlTZWxlY3RvciIsImFwcGVuZENoaWxkIiwiZG9tRWxlbWVudCIsIlBlcnNwZWN0aXZlQ2FtZXJhIiwicG9zaXRpb24iLCJzZXQiLCJ3aW5kb3dXaWR0aCIsIndpbmRvd0hlaWdodCIsImFzcGVjdCIsIk1hdGhVdGlscyIsInJhZFRvRGVnIiwiTWF0aCIsImF0YW4iLCJ1cGRhdGVQcm9qZWN0aW9uTWF0cml4IiwicmVuZGVyIiwiX3JlbmRlciIsIlV0aWwiLCJtaW4iLCJtYXgiLCJmbG9vciIsInJhbmRvbSIsImNvbG9ycyIsImxlbmd0aCIsIlZlY3RvcjIiLCJ2Iiwic3FydCIsInNjYWxhciIsImFuZ2xlIiwiY29zIiwic2luIiwiUGFydGljbGUiLCJjYW52YXMiLCJkaXJlY3Rpb24iLCJyYWRpdXMiLCJjb2xvciIsInZlbG9jaXR5Iiwic2V0RnJvbVNjYWxhckFuZ2xlIiwicmFuZ2UiLCJhZGQiLCJDYW52YXMiLCJjcmVhdGVFbGVtZW50IiwiY3R4IiwiZ2V0Q29udGV4dCIsInBhcnRpY2xlcyIsInBhcnRpY2xlTnVtIiwidGV4dHVyZSIsInB1c2giLCJQSSIsInJhbmRvbUludEZyb21SYW5nZSIsInJhbmRvbUNvbG9yIiwidXBkYXRlIiwic2F2ZSIsImJlZ2luUGF0aCIsImFyYyIsInNoYWRvd0NvbG9yIiwic2hhZG93Qmx1ciIsInNoYWRvd09mZnNldFgiLCJzaGFkb3dPZmZzZXRZIiwiZ2xvYmFsQWxwaGEiLCJmaWxsU3R5bGUiLCJmaWxsIiwicmVzdG9yZSIsImZpbGxSZWN0IiwiZHJhdyIsIlRleHR1cmUiLCJuZWVkc1VwZGF0ZSIsIm1pbkZpbHRlciIsIkxpbmVhckZpbHRlciIsIk1lc2giLCJtZXNoV2luZG93U2l6ZVJhdGlvIiwiZ2VvbWV0cnlQYXJtIiwid2lkdGhTZWdtZW50cyIsImhlaWdodFNlZ21lbnRzIiwibWF0ZXJpYWxQYXJhbSIsInVzZVdpcmVmcmFtZSIsIndpbmRvd1dpZHRoSGFsZiIsIndpbmRvd0hlaWdodEhhbGYiLCJtZXNoV2lkdGhIYWxmIiwibWVzaEhlaWdodEhhbGYiLCJtb3VzZVgiLCJtb3VzZVkiLCJtb3VzZVJhbmdlIiwiZnJpY3Rpb24iLCJpbml0IiwiX3NldFdpbmRvd1NpemUiLCJfc2V0TW91c2UiLCJfc2V0TWVzaCIsIl9zZXRNZXNoU2NhbGUiLCJhZGRFdmVudExpc3RlbmVyIiwiZSIsImNsaWVudFgiLCJjbGllbnRZIiwiUGxhbmVCdWZmZXJHZW9tZXRyeSIsIk1lc2hCYXNpY01hdGVyaWFsIiwibWFwIiwiX2dldFRleHR1cmUiLCJzY2FsZSIsInJvdGF0aW9uIiwib25SZXNpemUiLCJvblJhZiIsIlN0YWdlIiwiX3JhZiIsInJlcXVlc3RBbmltYXRpb25GcmFtZSJdLCJtYXBwaW5ncyI6ImFBQ0UsSUFBSUEsRUFBbUIsR0FHdkIsU0FBU0MsRUFBb0JDLEdBRzVCLEdBQUdGLEVBQWlCRSxHQUNuQixPQUFPRixFQUFpQkUsR0FBVUMsUUFHbkMsSUFBSUMsRUFBU0osRUFBaUJFLEdBQVksQ0FDekNHLEVBQUdILEVBQ0hJLEdBQUcsRUFDSEgsUUFBUyxJQVVWLE9BTkFJLEVBQVFMLEdBQVVNLEtBQUtKLEVBQU9ELFFBQVNDLEVBQVFBLEVBQU9ELFFBQVNGLEdBRy9ERyxFQUFPRSxHQUFJLEVBR0pGLEVBQU9ELFFBS2ZGLEVBQW9CUSxFQUFJRixFQUd4Qk4sRUFBb0JTLEVBQUlWLEVBR3hCQyxFQUFvQlUsRUFBSSxTQUFTUixFQUFTUyxFQUFNQyxHQUMzQ1osRUFBb0JhLEVBQUVYLEVBQVNTLElBQ2xDRyxPQUFPQyxlQUFlYixFQUFTUyxFQUFNLENBQUVLLFlBQVksRUFBTUMsSUFBS0wsS0FLaEVaLEVBQW9Ca0IsRUFBSSxTQUFTaEIsR0FDWCxvQkFBWGlCLFFBQTBCQSxPQUFPQyxhQUMxQ04sT0FBT0MsZUFBZWIsRUFBU2lCLE9BQU9DLFlBQWEsQ0FBRUMsTUFBTyxXQUU3RFAsT0FBT0MsZUFBZWIsRUFBUyxhQUFj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QUt1RyxvQkFBb0J2RixFQUdsRWhCLEtBQUsrRyxjQUFvQyxHQUFwQi9HLEtBQUt1QixLQUFLMkcsTUFBTW5ILEVBQ3JDZixLQUFLZ0gsZUFBcUMsR0FBcEJoSCxLQUFLdUIsS0FBSzJHLE1BQU1sSCxJLGdDQVV0QyxJQUFNRCxHQUFLZixLQUFLaUgsT0FBU2pILEtBQUt1QixLQUFLZSxTQUFTdkIsR0FBS2YsS0FBS29ILFNBQ2hEcEcsSUFBTWhCLEtBQUtrSCxPQUFTbEgsS0FBS3VCLEtBQUtlLFNBQVN0QixHQUFLaEIsS0FBS29ILFNBRXZEcEgsS0FBS3VCLEtBQUtlLFNBQVN2QixHQUFLQSxFQUN4QmYsS0FBS3VCLEtBQUtlLFNBQVN0QixHQUFLQSxFQUN4QmhCLEtBQUt1QixLQUFLNEcsU0FBU3BILEdBQVcsSUFBSkMsRUFITixJQUlwQmhCLEtBQUt1QixLQUFLNEcsU0FBU25ILEdBQVcsSUFBSkQsRUFKTixJQU1wQmYsS0FBS3VCLEtBQUtELFNBQVMwRyxJQUFJN0IsYUFBYyxJLGlDQUlyQ25HLEtBQUtpRSxPQUFPbUUsV0FDWnBJLEtBQUtzSCxpQkFDTHRILEtBQUt5SCxrQiw4QkFLTHpILEtBQUtpRCxVQUNMakQsS0FBS2lFLE9BQU9vRSxhLGlDQ25JcEIsV0FDSSxJQUFNdEksRUFBUSxJQUFJdUksRUFDbEJ2SSxFQUFNc0gsT0FFTixJQUFNOUYsRUFBTyxJQUFJK0UsRUFBS3ZHLEdBQ3RCd0IsRUFBSzhGLE9BRUxqSCxPQUFPc0gsaUJBQWlCLFVBQVUsV0FDOUIzSCxFQUFNcUksV0FDTjdHLEVBQUs2RyxlQUdJLFNBQVBHLElBQ0ZuSSxPQUFPb0ksdUJBQXNCLFdBQ3pCekksRUFBTXNJLFFBQ045RyxFQUFLOEcsUUFFTEUsT0FJUkEsR0FyQkoiLCJmaWxlIjoiYnVuZGxlLmpzIiwic291cmNlc0NvbnRlbnQiOlsiIFx0Ly8gVGhlIG1vZHVsZSBjYWNoZVxuIFx0dmFyIGluc3RhbGxlZE1vZHVsZXMgPSB7fTtcblxuIFx0Ly8gVGhlIHJlcXVpcmUgZnVuY3Rpb25cbiBcdGZ1bmN0aW9uIF9fd2VicGFja19yZXF1aXJlX18obW9kdWxlSWQpIHtcblxuIFx0XHQvLyBDaGVjayBpZiBtb2R1bGUgaXMgaW4gY2FjaGVcbiBcdFx0aWYoaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0pIHtcbiBcdFx0XHRyZXR1cm4gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0uZXhwb3J0cztcbiBcdFx0fVxuIFx0XHQvLyBDcmVhdGUgYSBuZXcgbW9kdWxlIChhbmQgcHV0IGl0IGludG8gdGhlIGNhY2hlKVxuIFx0XHR2YXIgbW9kdWxlID0gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0gPSB7XG4gXHRcdFx0aTogbW9kdWxlSWQsXG4gXHRcdFx0bDogZmFsc2UsXG4gXHRcdFx0ZXhwb3J0czoge31cbiBcdFx0fTtcblxuIFx0XHQvLyBFeGVjdXRlIHRoZSBtb2R1bGUgZnVuY3Rpb25cbiBcdFx0bW9kdWxlc1ttb2R1bGVJZF0uY2FsbChtb2R1bGUuZXhwb3J0cywgbW9kdWxlLCBtb2R1bGUuZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXyk7XG5cbiBcdFx0Ly8gRmxhZyB0aGUgbW9kdWxlIGFzIGxvYWRlZFxuIFx0XHRtb2R1bGUubCA9IHRydWU7XG5cbiBcdFx0Ly8gUmV0dXJuIHRoZSBleHBvcnRzIG9mIHRoZSBtb2R1bGVcbiBcdFx0cmV0dXJuIG1vZHVsZS5leHBvcnRzO1xuIFx0fVxuXG5cbiBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlcyBvYmplY3QgKF9fd2VicGFja19tb2R1bGVzX18pXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm0gPSBtb2R1bGVzO1xuXG4gXHQvLyBleHBvc2UgdGhlIG1vZHVsZSBjYWNoZVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5jID0gaW5zdGFsbGVkTW9kdWxlcztcblxuIFx0Ly8gZGVmaW5lIGdldHRlciBmdW5jdGlvbiBmb3IgaGFybW9ueSBleHBvcnRzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQgPSBmdW5jdGlvbihleHBvcnRzLCBuYW1lLCBnZXR0ZXIpIHtcbiBcdFx0aWYoIV9fd2VicGFja19yZXF1aXJlX18ubyhleHBvcnRzLCBuYW1lKSkge1xuIFx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBuYW1lLCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZ2V0dGVyIH0pO1xuIFx0XHR9XG4gXHR9O1xuXG4gXHQvLyBkZWZpbmUgX19lc01vZHVsZSBvbiBleHBvcnRzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnIgPSBmdW5jdGlvbihleHBvcnRzKSB7XG4gXHRcdGlmKHR5cGVvZiBTeW1ib2wgIT09ICd1bmRlZmluZWQnICYmIFN5bWJvbC50b1N0cmluZ1RhZykge1xuIFx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBTeW1ib2wudG9TdHJpbmdUYWcsIHsgdmFsdWU6ICdNb2R1bGUnIH0pO1xuIFx0XHR9XG4gXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnX19lc01vZHVsZScsIHsgdmFsdWU6IHRydWUgfSk7XG4gXHR9O1xuXG4gXHQvLyBjcmVhdGUgYSBmYWtlIG5hbWVzcGFjZSBvYmplY3RcbiBcdC8vIG1vZGUgJiAxOiB2YWx1ZSBpcyBhIG1vZHVsZSBpZCwgcmVxdWlyZSBpdFxuIFx0Ly8gbW9kZSAmIDI6IG1lcmdlIGFsbCBwcm9wZXJ0aWVzIG9mIHZhbHVlIGludG8gdGhlIG5zXG4gXHQvLyBtb2RlICYgNDogcmV0dXJuIHZhbHVlIHdoZW4gYWxyZWFkeSBucyBvYmplY3RcbiBcdC8vIG1vZGUgJiA4fDE6IGJlaGF2ZSBsaWtlIHJlcXVpcmVcbiBcdF9fd2VicGFja19yZXF1aXJlX18udCA9IGZ1bmN0aW9uKHZhbHVlLCBtb2RlKSB7XG4gXHRcdGlmKG1vZGUgJiAxKSB2YWx1ZSA9IF9fd2VicGFja19yZXF1aXJlX18odmFsdWUpO1xuIFx0XHRpZihtb2RlICYgOCkgcmV0dXJuIHZhbHVlO1xuIFx0XHRpZigobW9kZSAmIDQpICYmIHR5cGVvZiB2YWx1ZSA9PT0gJ29iamVjdCcgJiYgdmFsdWUgJiYgdmFsdWUuX19lc01vZHVsZSkgcmV0dXJuIHZhbHVlO1xuIFx0XHR2YXIgbnMgPSBPYmplY3QuY3JlYXRlKG51bGwpO1xuIFx0XHRfX3dlYnBhY2tfcmVxdWlyZV9fLnIobnMpO1xuIFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkobnMsICdkZWZhdWx0JywgeyBlbnVtZXJhYmxlOiB0cnVlLCB2YWx1ZTogdmFsdWUgfSk7XG4gXHRcdGlmKG1vZGUgJiAyICYmIHR5cGVvZiB2YWx1ZSAhPSAnc3RyaW5nJykgZm9yKHZhciBrZXkgaW4gdmFsdWUpIF9fd2VicGFja19yZXF1aXJlX18uZChucywga2V5LCBmdW5jdGlvbihrZXkpIHsgcmV0dXJuIHZhbHVlW2tleV07IH0uYmluZChudWxsLCBrZXkpKTtcbiBcdFx0cmV0dXJuIG5zO1xuIFx0fTtcblxuIFx0Ly8gZ2V0RGVmYXVsdEV4cG9ydCBmdW5jdGlvbiBmb3IgY29tcGF0aWJpbGl0eSB3aXRoIG5vbi1oYXJtb255IG1vZHVsZXNcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubiA9IGZ1bmN0aW9uKG1vZHVsZSkge1xuIFx0XHR2YXIgZ2V0dGVyID0gbW9kdWxlICYmIG1vZHVsZS5fX2VzTW9kdWxlID9cbiBcdFx0XHRmdW5jdGlvbiBnZXREZWZhdWx0KCkgeyByZXR1cm4gbW9kdWxlWydkZWZhdWx0J107IH0gOlxuIFx0XHRcdGZ1bmN0aW9uIGdldE1vZHVsZUV4cG9ydHMoKSB7IHJldHVybiBtb2R1bGU7IH07XG4gXHRcdF9fd2VicGFja19yZXF1aXJlX18uZChnZXR0ZXIsICdhJywgZ2V0dGVyKTtcbiBcdFx0cmV0dXJuIGdldHRlcjtcbiBcdH07XG5cbiBcdC8vIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbFxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5vID0gZnVuY3Rpb24ob2JqZWN0LCBwcm9wZXJ0eSkgeyByZXR1cm4gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iamVjdCwgcHJvcGVydHkpOyB9O1xuXG4gXHQvLyBfX3dlYnBhY2tfcHVibGljX3BhdGhfX1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5wID0gXCJcIjtcblxuXG4gXHQvLyBMb2FkIGVudHJ5IG1vZHVsZSBhbmQgcmV0dXJuIGV4cG9ydHNcbiBcdHJldHVybiBfX3dlYnBhY2tfcmVxdWlyZV9fKF9fd2VicGFja19yZXF1aXJlX18ucyA9IDApO1xuIiwiZXhwb3J0IGRlZmF1bHQgY2xhc3Mgc3RhZ2Uge1xyXG4gICAgY29uc3RydWN0b3IoKSB7XHJcbiAgICAgICAgdGhpcy5yZW5kZXJQYXJhbSA9IHtcclxuICAgICAgICAgICAgY2xlYXJDb2xvcjogMHhlZGVkZjEsXHJcbiAgICAgICAgICAgIHdpZHRoOiB3aW5kb3cuaW5uZXJXaWR0aCxcclxuICAgICAgICAgICAgaGVpZ2h0OiB3aW5kb3cuaW5uZXJIZWlnaHQsXHJcbiAgICAgICAgfTtcclxuICAgICAgICB0aGlzLmNhbWVyYVBhcmFtID0ge1xyXG4gICAgICAgICAgICBmb3Y6IDYwLFxyXG4gICAgICAgICAgICBuZWFyOiAuMSxcclxuICAgICAgICAgICAgZmFyOiAxMCxcclxuICAgICAgICAgICAgbG9va0F0OiBuZXcgVEhSRUUuVmVjdG9yMygwLCAwLCAwKSxcclxuICAgICAgICAgICAgeDogMCxcclxuICAgICAgICAgICAgeTogMCxcclxuICAgICAgICAgICAgejogMVxyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIHRoaXMuc2NlbmUgPSBudWxsO1xyXG4gICAgICAgIHRoaXMuY2FtZXJhID0gbnVsbDtcclxuICAgICAgICB0aGlzLnJlbmRlcmVyID0gbnVsbDtcclxuICAgICAgICB0aGlzLmdlb21ldHJ5ID0gbnVsbDtcclxuICAgICAgICB0aGlzLm1hdGVyaWFsID0gbnVsbDtcclxuICAgICAgICB0aGlzLm1lc2ggPSBudWxsO1xyXG4gICAgICAgIHRoaXMuaXNJbml0aWFsaXplZCA9IGZhbHNlO1xyXG4gICAgICAgIC8vIHRoaXMuY29udHJvbHMgPSBudWxsO1xyXG4gICAgfVxyXG5cclxuICAgIGluaXQoKSB7XHJcbiAgICAgICAgdGhpcy5fc2V0U2NlbmUoKTtcclxuICAgICAgICB0aGlzLl9zZXRSZW5kZXIoKTtcclxuICAgICAgICB0aGlzLl9zZXRDYW1lcmEoKTtcclxuICAgICAgICB0aGlzLmlzSW5pdGlhbGl6ZWQgPSB0cnVlO1xyXG4gICAgfVxyXG5cclxuICAgIF9zZXRTY2VuZSgpIHtcclxuICAgICAgICB0aGlzLnNjZW5lID0gbmV3IFRIUkVFLlNjZW5lKCk7XHJcbiAgICB9XHJcblxyXG4gICAgX3NldFJlbmRlcigpIHtcclxuICAgICAgICB0aGlzLnJlbmRlcmVyID0gbmV3IFRIUkVFLldlYkdMUmVuZGVyZXIoKTtcclxuICAgICAgICB0aGlzLnJlbmRlcmVyLnNldENsZWFyQ29sb3IobmV3IFRIUkVFLkNvbG9yKHRoaXMucmVuZGVyUGFyYW0uY2xlYXJDb2xvcikpO1xyXG4gICAgICAgIHRoaXMucmVuZGVyZXIuc2V0U2l6ZSh0aGlzLnJlbmRlclBhcmFtLndpZHRoLCB0aGlzLnJlbmRlclBhcmFtLmhlaWdodCk7XHJcbiAgICAgICAgY29uc3Qgd3JhcHBlciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyN3ZWJnbCcpO1xyXG4gICAgICAgIHdyYXBwZXIuYXBwZW5kQ2hpbGQodGhpcy5yZW5kZXJlci5kb21FbGVtZW50KTtcclxuICAgIH1cclxuXHJcbiAgICBfc2V0Q2FtZXJhKCkge1xyXG4gICAgICAgIGlmICghdGhpcy5pc0luaXRpYWxpemVkKSB7XHJcbiAgICAgICAgICAgIHRoaXMuY2FtZXJhID0gbmV3IFRIUkVFLlBlcnNwZWN0aXZlQ2FtZXJhKFxyXG4gICAgICAgICAgICAgICAgMCxcclxuICAgICAgICAgICAgICAgIDAsXHJcbiAgICAgICAgICAgICAgICB0aGlzLmNhbWVyYVBhcmFtLm5lYXIsXHJcbiAgICAgICAgICAgICAgICB0aGlzLmNhbWVyYVBhcmFtLmZhcixcclxuICAgICAgICAgICAgKTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMuY2FtZXJhLnBvc2l0aW9uLnNldCh0aGlzLmNhbWVyYVBhcmFtLngsIHRoaXMuY2FtZXJhUGFyYW0ueSwgdGhpcy5jYW1lcmFQYXJhbS56KTtcclxuICAgICAgICAgICAgdGhpcy5jYW1lcmEubG9va0F0KHRoaXMuY2FtZXJhUGFyYW0ubG9va0F0KTtcclxuXHJcbiAgICAgICAgICAgIC8vIHRoaXMuY29udHJvbHMgPSBuZXcgVEhSRUUuT3JiaXRDb250cm9scyh0aGlzLmNhbWVyYSwgdGhpcy5yZW5kZXJlci5kb21FbGVtZW50KTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGNvbnN0IHdpbmRvd1dpZHRoID0gd2luZG93LmlubmVyV2lkdGg7XHJcbiAgICAgICAgY29uc3Qgd2luZG93SGVpZ2h0ID0gd2luZG93LmlubmVySGVpZ2h0O1xyXG4gICAgICAgIHRoaXMuY2FtZXJhLmFzcGVjdCA9IHdpbmRvd1dpZHRoIC8gd2luZG93SGVpZ2h0O1xyXG5cclxuICAgICAgICAvLyDjgaHjgofjgYbjganjgrnjgq/jg6rjg7zjg7PjgYTjgaPjgbHjgYTjgavjgarjgovoppbph47op5LjgpLoqIjnrpfjgZnjgotcclxuICAgICAgICB0aGlzLmNhbWVyYS5mb3YgPSBUSFJFRS5NYXRoVXRpbHMucmFkVG9EZWcoTWF0aC5hdGFuKHdpbmRvd1dpZHRoIC8gdGhpcy5jYW1lcmEuYXNwZWN0IC8gKDIgKiB0aGlzLmNhbWVyYS5wb3NpdGlvbi56KSkpICogMjtcclxuICAgICAgICB0aGlzLmNhbWVyYS51cGRhdGVQcm9qZWN0aW9uTWF0cml4KCk7XHJcbiAgICAgICAgdGhpcy5yZW5kZXJlci5zZXRTaXplKHdpbmRvd1dpZHRoLCB3aW5kb3dIZWlnaHQpO1xyXG4gICAgfVxyXG5cclxuICAgIF9yZW5kZXIoKSB7XHJcbiAgICAgICAgdGhpcy5yZW5kZXJlci5yZW5kZXIodGhpcy5zY2VuZSwgdGhpcy5jYW1lcmEpO1xyXG4gICAgfVxyXG5cclxuICAgIG9uUmVzaXplKCkge1xyXG4gICAgICAgIHRoaXMuX3NldENhbWVyYSgpO1xyXG4gICAgfVxyXG5cclxuICAgIG9uUmFmKCkge1xyXG4gICAgICAgIHRoaXMuX3JlbmRlcigpO1xyXG4gICAgfVxyXG59IiwiZXhwb3J0IGNsYXNzIFV0aWwge1xyXG4gICAgLy/lvJXmlbDjga7mnIDlsI/lgKTjgYvjgonmnIDlpKflgKTjga7plpPjgafjg6njg7Pjg4Djg6DjgarlgKTjga7mlbTmlbDjgpLov5TjgZnplqLmlbBcclxuICAgIHN0YXRpYyByYW5kb21JbnRGcm9tUmFuZ2UobWluLCBtYXgpIHtcclxuICAgICAgICByZXR1cm4gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogKG1heCAtIG1pbiArIDEpICsgbWluKVxyXG4gICAgfVxyXG4gICAgLy/jg6njg7Pjg4Djg6DjgaroibLjgpLov5TjgZnplqLmlbBcclxuICAgIHN0YXRpYyByYW5kb21Db2xvcihjb2xvcnMpIHtcclxuICAgICAgICByZXR1cm4gY29sb3JzW01hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIGNvbG9ycy5sZW5ndGgpXVxyXG4gICAgfVxyXG59XHJcbiIsIi8veOaIkOWIhuOBqHnmiJDliIbjgpLmjIHjgaTkuozmrKHlhYPjg5njgq/jg4jjg6tcclxuZXhwb3J0IGNsYXNzIFZlY3RvcjIge1xyXG4gICAgLyoqXHJcbiAgICAgKiDjgrPjg7Pjgrnjg4jjg6njgq/jgr/jg7xcclxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB4XHJcbiAgICAgKiBAcGFyYW0ge251bWJlcn0geVxyXG4gICAgICovXHJcbiAgICBjb25zdHJ1Y3Rvcih4LCB5KSB7XHJcbiAgICAgICAgdGhpcy54ID0geDtcclxuICAgICAgICB0aGlzLnkgPSB5O1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiDjg5njgq/jg4jjg6vjga5444GoeeOCkuOCu+ODg+ODiOOBmeOCi1xyXG4gICAgICovXHJcbiAgICBzZXQoeCwgeSkge1xyXG4gICAgICAgIHRoaXMueCA9IHg7XHJcbiAgICAgICAgdGhpcy55ID0geTtcclxuICAgICAgICByZXR1cm4gdGhpcztcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICog44OZ44Kv44OI44Or44Gu6KSH6KO9XHJcbiAgICAgKi9cclxuICAgIGNsb25lKCkge1xyXG4gICAgICAgIHJldHVybiBuZXcgVmVjdG9yMih0aGlzLngsIHRoaXMueSk7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIOODmeOCr+ODiOODq+OBrui2s+OBl+eulyA6IOa4oeOBleOCjOOBn+ODmeOCr+ODiOODq+OBrnjjgah544KS6Ieq5YiG44Gr6Laz44GZXHJcbiAgICAgKi9cclxuICAgIGFkZCh2KSB7XHJcbiAgICAgICAgdGhpcy54ICs9IHYueDtcclxuICAgICAgICB0aGlzLnkgKz0gdi55O1xyXG4gICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiDjg5njgq/jg4jjg6vjga7lvJXjgY3nrpcgOiDmuKHjgZXjgozjgZ/jg5njgq/jg4jjg6vjga5444GoeeOCkuiHquWIhuOBi+OCieW8leOBj1xyXG4gICAgICovXHJcbiAgICBzdWIodikge1xyXG4gICAgICAgIHRoaXMueCAtPSB2Lng7XHJcbiAgICAgICAgdGhpcy55IC09IHYueTtcclxuICAgICAgICByZXR1cm4gdGhpcztcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICog44OZ44Kv44OI44Or44Gu5LmX566XXHJcbiAgICAgKi9cclxuICAgIG11bHQodikge1xyXG4gICAgICAgIHRoaXMueCAqPSB2Lng7XHJcbiAgICAgICAgdGhpcy55ICo9IHYueTtcclxuICAgICAgICByZXR1cm4gdGhpcztcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICog44OZ44Kv44OI44Or44Gu5aSn44GN44GVXHJcbiAgICAgKi9cclxuICAgIG1hZ25pdHVkZSgpIHtcclxuICAgICAgICByZXR1cm4gTWF0aC5zcXJ0KHRoaXMueCAqIHRoaXMueCArIHRoaXMueSAqIHRoaXMueSk7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIOODmeOCr+ODiOODq+OBruWQkeOBjeOCkuWkieabtOOBl+OBpumAn+W6puOCkuS5l+eul+OBmeOCi1xyXG4gICAgICovXHJcbiAgICBzZXRGcm9tU2NhbGFyQW5nbGUoc2NhbGFyLCBhbmdsZSkge1xyXG4gICAgICAgIHRoaXMueCA9IE1hdGguY29zKGFuZ2xlKSAqIHNjYWxhcjtcclxuICAgICAgICB0aGlzLnkgPSBNYXRoLnNpbihhbmdsZSkgKiBzY2FsYXI7XHJcbiAgICB9XHJcbn0iLCIvL3ZlY3RvcjIuanPjgpLoqq3jgb/ovrzjgoBcclxuaW1wb3J0IHsgVmVjdG9yMiB9IGZyb20gJy4vdmVjdG9yMidcclxuXHJcbi8vUGFydGljbGXjgq/jg6njgrnjgpLkvZzmiJDjgZnjgotcclxuZXhwb3J0IGNsYXNzIFBhcnRpY2xlIHtcclxuICAgIC8qKlxyXG4gICAgICog44Kz44Oz44K544OI44Op44Kv44K/44O8XHJcbiAgICAgKiBAcGFyYW0ge2NhbnZhc30gY2FudmFzXHJcbiAgICAgKiBAcGFyYW0ge251bWJlcn0geCBwb3NpdGlvbngo5L2N572uKVxyXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHkgcG9zaXRpb255KOS9jee9rilcclxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBzY2FsYXIgc2NhbGFyKOmAn+W6pilcclxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBkaXJlY3Rpb24gZGlyZWN0aW9uKOinkuW6pilcclxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSByYWRpdXMgcmFkaXVzKOWNiuW+hClcclxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBjb2xvciBjb2xvcijoibIpXHJcbiAgICAgKi9cclxuICAgIGNvbnN0cnVjdG9yKGNhbnZhcywgeCwgeSwgc2NhbGFyLCBkaXJlY3Rpb24sIHJhZGl1cywgY29sb3IpIHtcclxuICAgICAgICB0aGlzLmNhbnZhcyA9IGNhbnZhcztcclxuICAgICAgICAvL3Bvc2l0aW9uKOS9jee9rinjg5fjg63jg5Hjg4bjgqPjga7jgqTjg7Pjgrnjgr/jg7PjgrnjgpLkvZzmiJBcclxuICAgICAgICB0aGlzLnBvc2l0aW9uID0gbmV3IFZlY3RvcjIoeCwgeSk7XHJcbiAgICAgICAgLy92ZWxvY2l0eSjpgLLot6/mlrnlkJEr6YCf5bqmKeODl+ODreODkeODhuOCo+OBruOCpOODs+OCueOCv+ODs+OCueOCkuS9nOaIkFxyXG4gICAgICAgIHRoaXMudmVsb2NpdHkgPSBuZXcgVmVjdG9yMigpO1xyXG4gICAgICAgIC8vdmVsb2NpdHnjga7pgJ/luqbjgajlkJHjgY3jgpLjgrvjg4Pjg4jjgZnjgotcclxuICAgICAgICB0aGlzLnZlbG9jaXR5LnNldEZyb21TY2FsYXJBbmdsZShzY2FsYXIsIGRpcmVjdGlvbik7XHJcbiAgICAgICAgLy9yYWRpdXMo5Y2K5b6EKeODl+ODreODkeODhuOCo+OCkuWumue+qVxyXG4gICAgICAgIHRoaXMucmFkaXVzID0gcmFkaXVzO1xyXG4gICAgICAgIC8vY29sb3Io6ImyKeODl+ODreODkeODhuOCo+OCkuWumue+qVxyXG4gICAgICAgIHRoaXMuY29sb3IgPSBjb2xvcjtcclxuICAgICAgICB0aGlzLnJhbmdlID0gMTAwO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiB1cGRhdGXjg6Hjgr3jg4Pjg4njga7kvZzmiJBcclxuICAgICAqL1xyXG4gICAgdXBkYXRlKCkge1xyXG4gICAgICAgIC8vcG9zaXRpb27jgat2ZWxvY2l0eeOCkuWKoOeul+OBmeOCi1xyXG4gICAgICAgIHRoaXMucG9zaXRpb24uYWRkKHRoaXMudmVsb2NpdHkpO1xyXG5cclxuICAgICAgICAvLyBwb3NpdGlvbijkvY3nva4p44GMY2FudmFz5aSW44Gr5Ye644Gf5pmC44Gv5Lit5aSu44Gr5YaN6YWN572uXHJcbiAgICAgICAgaWYgKHRoaXMucG9zaXRpb24ueCAtIHRoaXMucmFuZ2UgPiB0aGlzLmNhbnZhcy53aWR0aCkge1xyXG4gICAgICAgICAgICB0aGlzLnBvc2l0aW9uLnggPSB0aGlzLmNhbnZhcy53aWR0aCAvIDI7XHJcbiAgICAgICAgICAgIHRoaXMucG9zaXRpb24ueSA9IHRoaXMuY2FudmFzLmhlaWdodCAvIDI7XHJcbiAgICAgICAgfTtcclxuICAgICAgICBpZiAodGhpcy5wb3NpdGlvbi54ICsgdGhpcy5yYW5nZSA8IDApIHtcclxuICAgICAgICAgICAgdGhpcy5wb3NpdGlvbi54ID0gdGhpcy5jYW52YXMud2lkdGggLyAyO1xyXG4gICAgICAgICAgICB0aGlzLnBvc2l0aW9uLnkgPSB0aGlzLmNhbnZhcy5oZWlnaHQgLyAyO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgaWYgKHRoaXMucG9zaXRpb24ueSAtIHRoaXMucmFuZ2UgPiB0aGlzLmNhbnZhcy5oZWlnaHQpIHtcclxuICAgICAgICAgICAgdGhpcy5wb3NpdGlvbi54ID0gdGhpcy5jYW52YXMud2lkdGggLyAyO1xyXG4gICAgICAgICAgICB0aGlzLnBvc2l0aW9uLnkgPSB0aGlzLmNhbnZhcy5oZWlnaHQgLyAyO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgaWYgKHRoaXMucG9zaXRpb24ueSArIHRoaXMucmFuZ2UgPCAwKSB7XHJcbiAgICAgICAgICAgIHRoaXMucG9zaXRpb24ueCA9IHRoaXMuY2FudmFzLndpZHRoIC8gMjtcclxuICAgICAgICAgICAgdGhpcy5wb3NpdGlvbi55ID0gdGhpcy5jYW52YXMuaGVpZ2h0IC8gMjtcclxuICAgICAgICB9O1xyXG4gICAgfVxyXG59IiwiaW1wb3J0IHsgVXRpbCB9IGZyb20gJy4vdXRpbGl0eSc7XHJcbmltcG9ydCB7IFBhcnRpY2xlIH0gZnJvbSAnLi9wYXJ0aWNsZSc7XHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBDYW52YXMge1xyXG4gICAgY29uc3RydWN0b3IoKSB7XHJcbiAgICAgICAgdGhpcy5jYW52YXMgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdjYW52YXMnKTtcclxuICAgICAgICB0aGlzLmN0eCA9IHRoaXMuY2FudmFzLmdldENvbnRleHQoJzJkJyk7XHJcbiAgICAgICAgdGhpcy53aWR0aCA9IHRoaXMuY2FudmFzLndpZHRoID0gd2luZG93LmlubmVyV2lkdGg7XHJcbiAgICAgICAgdGhpcy5oZWlnaHQgPSB0aGlzLmNhbnZhcy5oZWlnaHQgPSB3aW5kb3cuaW5uZXJIZWlnaHQ7XHJcbiAgICAgICAgdGhpcy5wYXJ0aWNsZXMgPSBbXTtcclxuICAgICAgICB0aGlzLnBhcnRpY2xlTnVtID0gMTAwO1xyXG4gICAgICAgIHRoaXMuY29sb3JzID0gW1wiIzA5NTJCRFwiLCBcIiNBNUJGRjBcIiwgXCIjMTE4Q0Q2XCIsIFwiIzFBQUVFOFwiLCBcIiNGMkU4QzlcIl07XHJcbiAgICAgICAgdGhpcy50ZXh0dXJlID0gbnVsbDtcclxuICAgIH1cclxuXHJcbiAgICBpbml0KCkge1xyXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5wYXJ0aWNsZU51bTsgaSsrKSB7XHJcbiAgICAgICAgICAgIHRoaXMucGFydGljbGVzLnB1c2gobmV3IFBhcnRpY2xlKFxyXG4gICAgICAgICAgICAgICAgdGhpcy5jYW52YXMsXHJcbiAgICAgICAgICAgICAgICB0aGlzLmNhbnZhcy53aWR0aCAvIDIsXHJcbiAgICAgICAgICAgICAgICB0aGlzLmNhbnZhcy5oZWlnaHQgLyAyLFxyXG4gICAgICAgICAgICAgICAgTWF0aC5yYW5kb20oKSAqIDggKyAyLFxyXG4gICAgICAgICAgICAgICAgTWF0aC5yYW5kb20oKSAqIE1hdGguUEkgKiAyLFxyXG4gICAgICAgICAgICAgICAgVXRpbC5yYW5kb21JbnRGcm9tUmFuZ2UoNSwgNyksXHJcbiAgICAgICAgICAgICAgICBVdGlsLnJhbmRvbUNvbG9yKHRoaXMuY29sb3JzKSxcclxuICAgICAgICAgICAgKSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGRyYXcoKSB7XHJcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLnBhcnRpY2xlTnVtOyBpKyspIHtcclxuICAgICAgICAgICAgY29uc3QgcCA9IHRoaXMucGFydGljbGVzW2ldO1xyXG4gICAgICAgICAgICBwLnVwZGF0ZSgpO1xyXG4gICAgICAgICAgICB0aGlzLmN0eC5zYXZlKCk7XHJcbiAgICAgICAgICAgIHRoaXMuY3R4LmJlZ2luUGF0aCgpO1xyXG4gICAgICAgICAgICB0aGlzLmN0eC5hcmMocC5wb3NpdGlvbi54LCBwLnBvc2l0aW9uLnksIHAucmFkaXVzLCAwLCBNYXRoLlBJICogMilcclxuICAgICAgICAgICAgdGhpcy5jdHguc2hhZG93Q29sb3IgPSBwLmNvbG9yO1xyXG4gICAgICAgICAgICB0aGlzLmN0eC5zaGFkb3dCbHVyID0gNTtcclxuICAgICAgICAgICAgdGhpcy5jdHguc2hhZG93T2Zmc2V0WCA9IDA7XHJcbiAgICAgICAgICAgIHRoaXMuY3R4LnNoYWRvd09mZnNldFkgPSAwO1xyXG4gICAgICAgICAgICB0aGlzLmN0eC5nbG9iYWxBbHBoYSA9ICcxJ1xyXG4gICAgICAgICAgICB0aGlzLmN0eC5maWxsU3R5bGUgPSBwLmNvbG9yO1xyXG4gICAgICAgICAgICB0aGlzLmN0eC5maWxsKCk7XHJcbiAgICAgICAgICAgIHRoaXMuY3R4LnJlc3RvcmUoKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcmVuZGVyKCkge1xyXG4gICAgICAgIHRoaXMuY3R4LmZpbGxTdHlsZSA9ICdoc2xhKDI2MCw0MCUsNSUsLjIpJztcclxuICAgICAgICB0aGlzLmN0eC5maWxsUmVjdCgwLCAwLCB0aGlzLndpZHRoLCB0aGlzLmhlaWdodCk7XHJcbiAgICAgICAgdGhpcy5kcmF3KCk7XHJcbiAgICB9XHJcblxyXG4gICAgb25SYWYoKSB7XHJcbiAgICAgICAgdGhpcy5yZW5kZXIoKTtcclxuICAgIH1cclxuXHJcbiAgICBfZ2V0VGV4dHVyZSgpIHtcclxuICAgICAgICB0aGlzLnRleHR1cmUgPSBuZXcgVEhSRUUuVGV4dHVyZSh0aGlzLmNhbnZhcyk7XHJcbiAgICAgICAgdGhpcy50ZXh0dXJlLm5lZWRzVXBkYXRlID0gdHJ1ZTtcclxuICAgICAgICB0aGlzLnRleHR1cmUubWluRmlsdGVyID0gVEhSRUUuTGluZWFyRmlsdGVyO1xyXG4gICAgICAgIHJldHVybiB0aGlzLnRleHR1cmU7XHJcbiAgICB9XHJcblxyXG4gICAgb25SZXNpemUoKSB7XHJcbiAgICAgICAgdGhpcy53aWR0aCA9IHRoaXMuY2FudmFzLndpZHRoID0gd2luZG93LmlubmVyV2lkdGg7XHJcbiAgICAgICAgdGhpcy5oZWlnaHQgPSB0aGlzLmNhbnZhcy5oZWlnaHQgPSB3aW5kb3cuaW5uZXJIZWlnaHQ7XHJcbiAgICB9XHJcbn0iLCJpbXBvcnQgQ2FudmFzIGZyb20gJy4uL2NhbnZhcy9jYW52YXMnO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgTWVzaCB7XHJcbiAgICBjb25zdHJ1Y3RvcihzdGFnZSkge1xyXG4gICAgICAgIC8vIOOCueOCr+ODquODvOODs+OCteOCpOOCuuOBq+S4i+iomOOBruOCteOCpOOCuuOCkuS5l+eul+OBl+OBn+OCteOCpOOCuuOBjOOCueOCr+ODquODvOODs+OBq+aPj+eUu+OBleOCjOOCi01lc2jjga7jgrXjgqTjgrrjgajjgarjgotcclxuICAgICAgICB0aGlzLm1lc2hXaW5kb3dTaXplUmF0aW8gPSB7IHg6IC41LCB5OiAuNSB9O1xyXG5cclxuICAgICAgICAvLyDjgrjjgqrjg6Hjg4jjg6rjg7znlJ/miJDnlKjjga7jg5Hjg6njg6Hjg7zjgr9cclxuICAgICAgICB0aGlzLmdlb21ldHJ5UGFybSA9IHtcclxuICAgICAgICAgICAgd2lkdGg6IDEsIC8vIOOCuOOCquODoeODiOODqueUn+aIkOW+jOOAgeODquOCteOCpOOCuuOBq+OCiOOCi21lc2jjga7jgrXjgqTjgrrlpInmm7TjgpLopovotorjgZfjgabjgIEx44Gn5Zu65a6a44CB44K144Kk44K644Gu5aSJ5pu044GvbWVzaOOBrnNjYWxl44OX44Ot44OR44OG44Kj44KS5aSJ5pu044GX44Gm6KGM44GGXHJcbiAgICAgICAgICAgIGhlaWdodDogMSwgLy8g44K444Kq44Oh44OI44Oq55Sf5oiQ5b6M44CB44Oq44K144Kk44K644Gr44KI44KLbWVzaOOBruOCteOCpOOCuuWkieabtOOCkuimi+i2iuOBl+OBpuOAgTHjgaflm7rlrprjgIHjgrXjgqTjgrrjga7lpInmm7Tjga9tZXNo44Guc2NhbGXjg5fjg63jg5Hjg4bjgqPjgpLlpInmm7TjgZfjgabooYzjgYZcclxuICAgICAgICAgICAgd2lkdGhTZWdtZW50czogMSwgLy8g5p2/44Od44Oq44K044Oz5YaF44Gu44K744Or44Gu5pWw77yIWOi7uO+8iVxyXG4gICAgICAgICAgICBoZWlnaHRTZWdtZW50czogMSAvLyDmnb/jg53jg6rjgrTjg7PlhoXjga7jgrvjg6vjga7mlbDvvIhZ6Lu477yJXHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgLy8g44Oe44OG44Oq44Ki44Or55Sf5oiQ55So44Gu44OR44Op44Oh44O844K/XHJcbiAgICAgICAgdGhpcy5tYXRlcmlhbFBhcmFtID0ge1xyXG4gICAgICAgICAgICB1c2VXaXJlZnJhbWU6IGZhbHNlLFxyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIHRoaXMuc3RhZ2UgPSBzdGFnZTtcclxuXHJcbiAgICAgICAgdGhpcy5tZXNoID0gbnVsbDsgLy8gbWVzaFxyXG5cclxuICAgICAgICAvLyDjgrnjgq/jg6rjg7zjg7PjgrXjgqTjgrpcclxuICAgICAgICB0aGlzLndpbmRvd1dpZHRoID0gMDtcclxuICAgICAgICB0aGlzLndpbmRvd0hlaWdodCA9IDA7XHJcblxyXG4gICAgICAgIC8vIOOCueOCr+ODquODvOODs+OCteOCpOOCuuOBruWNiuWIhlxyXG4gICAgICAgIHRoaXMud2luZG93V2lkdGhIYWxmID0gMDtcclxuICAgICAgICB0aGlzLndpbmRvd0hlaWdodEhhbGYgPSAwO1xyXG5cclxuICAgICAgICAvLyDjg6Hjg4Pjgrfjg6XjgrXjgqTjgrrjga7ljYrliIbvvIjku4rlm57jga/jgIHjgZ/jgb7jgZ/jgb7jgrnjgq/jg6rjg7zjg7PjgrXjgqTjgrrjgajlkIzjgZjjgarjga7jgaflkIzmp5jjga7lgKTjgavjgarjgovvvIlcclxuICAgICAgICB0aGlzLm1lc2hXaWR0aEhhbGYgPSAwO1xyXG4gICAgICAgIHRoaXMubWVzaEhlaWdodEhhbGYgPSAwO1xyXG5cclxuICAgICAgICB0aGlzLm1vdXNlWCA9IG51bGw7XHJcbiAgICAgICAgdGhpcy5tb3VzZVkgPSBudWxsO1xyXG4gICAgICAgIHRoaXMubW91c2VSYW5nZSA9IDUwO1xyXG4gICAgICAgIHRoaXMuZnJpY3Rpb24gPSAxMDtcclxuXHJcbiAgICAgICAgdGhpcy5jYW52YXMgPSBuZXcgQ2FudmFzKCk7XHJcbiAgICB9XHJcblxyXG4gICAgaW5pdCgpIHtcclxuICAgICAgICB0aGlzLmNhbnZhcy5pbml0KCk7XHJcbiAgICAgICAgdGhpcy5fc2V0V2luZG93U2l6ZSgpOyAvLyB3aW5kb3fjga7jgrXjgqTjgrrjgpLjgrvjg4Pjg4hcclxuICAgICAgICB0aGlzLl9zZXRNb3VzZSgpO1xyXG4gICAgICAgIHRoaXMuX3NldE1lc2goKTsgLy8gbWVzaOOBrueUn+aIkFxyXG4gICAgICAgIHRoaXMuX3NldE1lc2hTY2FsZSgpOyAvLyBtZXNo44Gu44K144Kk44K644KS44K744OD44OIXHJcbiAgICB9XHJcblxyXG4gICAgX3NldFdpbmRvd1NpemUoKSB7XHJcbiAgICAgICAgLy8g44K544Kv44Oq44O844Oz44K144Kk44K6XHJcbiAgICAgICAgdGhpcy53aW5kb3dXaWR0aCA9IHdpbmRvdy5pbm5lcldpZHRoO1xyXG4gICAgICAgIHRoaXMud2luZG93SGVpZ2h0ID0gd2luZG93LmlubmVySGVpZ2h0O1xyXG5cclxuICAgICAgICAvLyDjgrnjgq/jg6rjg7zjg7PjgrXjgqTjgrrjga7ljYrliIZcclxuICAgICAgICB0aGlzLndpbmRvd1dpZHRoSGFsZiA9IHRoaXMud2luZG93V2lkdGggKiAwLjU7XHJcbiAgICAgICAgdGhpcy53aW5kb3dIZWlnaHRIYWxmID0gdGhpcy53aW5kb3dIZWlnaHQgKiAwLjU7XHJcbiAgICB9XHJcblxyXG4gICAgX3NldE1vdXNlKCkge1xyXG4gICAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdtb3VzZW1vdmUnLCAoZSkgPT4ge1xyXG4gICAgICAgICAgICAvL+ODnuOCpuOCueW6p+aomeOBruWPluW+l1xyXG4gICAgICAgICAgICB0aGlzLm1vdXNlWCA9IGUuY2xpZW50WDtcclxuICAgICAgICAgICAgdGhpcy5tb3VzZVkgPSBlLmNsaWVudFk7XHJcbiAgICAgICAgICAgIC8v5q2j6KaP5YyWXHJcbiAgICAgICAgICAgIHRoaXMubW91c2VYIC89IHRoaXMud2luZG93V2lkdGg7XHJcbiAgICAgICAgICAgIHRoaXMubW91c2VZIC89IHRoaXMud2luZG93SGVpZ2h0O1xyXG4gICAgICAgICAgICAvL+W6p+aomeWkieaPm1xyXG4gICAgICAgICAgICB0aGlzLm1vdXNlWCA9IHRoaXMubW91c2VYICogMiAtIDE7XHJcbiAgICAgICAgICAgIHRoaXMubW91c2VZID0gdGhpcy5tb3VzZVkgKiAyIC0gMTtcclxuICAgICAgICAgICAgdGhpcy5tb3VzZVggKj0gdGhpcy5tb3VzZVJhbmdlO1xyXG4gICAgICAgICAgICB0aGlzLm1vdXNlWSAqPSB0aGlzLm1vdXNlUmFuZ2U7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgX3NldE1lc2goKSB7XHJcbiAgICAgICAgLy8g44K444Kq44Oh44OI44Oq44O844KS55Sf5oiQXHJcbiAgICAgICAgY29uc3QgZ2VvbWV0cnkgPSBuZXcgVEhSRUUuUGxhbmVCdWZmZXJHZW9tZXRyeShcclxuICAgICAgICAgICAgdGhpcy5nZW9tZXRyeVBhcm0ud2lkdGgsXHJcbiAgICAgICAgICAgIHRoaXMuZ2VvbWV0cnlQYXJtLmhlaWdodCxcclxuICAgICAgICAgICAgdGhpcy5nZW9tZXRyeVBhcm0ud2lkdGhTZWdtZW50cyxcclxuICAgICAgICAgICAgdGhpcy5nZW9tZXRyeVBhcm0uaGVpZ2h0U2VnbWVudHNcclxuICAgICAgICApO1xyXG5cclxuICAgICAgICAvLyDjg57jg4bjg6rjgqLjg6vjgpLnlJ/miJBcclxuICAgICAgICBjb25zdCBtYXRlcmlhbCA9IG5ldyBUSFJFRS5NZXNoQmFzaWNNYXRlcmlhbCh7XHJcbiAgICAgICAgICAgIG1hcDogdGhpcy5jYW52YXMuX2dldFRleHR1cmUoKSxcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgdGhpcy5tZXNoID0gbmV3IFRIUkVFLk1lc2goZ2VvbWV0cnksIG1hdGVyaWFsKTtcclxuXHJcbiAgICAgICAgdGhpcy5zdGFnZS5zY2VuZS5hZGQodGhpcy5tZXNoKTtcclxuICAgIH1cclxuXHJcbiAgICBfc2V0TWVzaFNjYWxlKCkge1xyXG4gICAgICAgIC8vIHRocmVlLmpz44Gub2JqZWN0M2QgY2xhc3PjgYzjgoLjgaRzY2FsZeODl+ODreODkeODhuOCo+OBp+ODoeODg+OCt+ODpeOBruOCteOCpOOCuuOCkuWkieabtOOBmeOCi1xyXG4gICAgICAgIHRoaXMubWVzaC5zY2FsZS54ID0gd2luZG93LmlubmVyV2lkdGggKiB0aGlzLm1lc2hXaW5kb3dTaXplUmF0aW8ueDtcclxuICAgICAgICB0aGlzLm1lc2guc2NhbGUueSA9IHdpbmRvdy5pbm5lckhlaWdodCAqIHRoaXMubWVzaFdpbmRvd1NpemVSYXRpby55O1xyXG5cclxuICAgICAgICAvLyDjg6Hjg4Pjgrfjg6XjgrXjgqTjgrrjga7ljYrliIbvvIjku4rlm57jga/jgIHjgZ/jgb7jgZ/jgb7jgrnjgq/jg6rjg7zjg7PjgrXjgqTjgrrjgajlkIzjgZjjgarjga7jgaflkIzmp5jjga7lgKTjgavjgarjgovvvIlcclxuICAgICAgICB0aGlzLm1lc2hXaWR0aEhhbGYgPSB0aGlzLm1lc2guc2NhbGUueCAqIDAuNTtcclxuICAgICAgICB0aGlzLm1lc2hIZWlnaHRIYWxmID0gdGhpcy5tZXNoLnNjYWxlLnkgKiAwLjVcclxuICAgIH1cclxuXHJcbiAgICAvLyBfc2V0TWVzaFBvc2l0aW9uKCkge1xyXG4gICAgLy8gICAgIC8vIOODneOCuOOCt+ODp+ODs+OCkuioiOeul+OBl+OBpuOAgXRocmVlLmpz44Gub2JqZWN0M2QgY2xhc3PjgYzjgoLjgaRwb3NpdGlvbuODl+ODreODkeODhuOCo+OBp+ODoeODg+OCt+ODpeOBruW6p+aomeOCkuWkieabtOOBmeOCi1xyXG4gICAgLy8gICAgIC8vIHRoaXMubWVzaC5wb3NpdGlvbi55ID0gdGhpcy53aW5kb3dIZWlnaHRIYWxmIC0gdGhpcy5tZXNoSGVpZ2h0SGFsZjtcclxuICAgIC8vICAgICAvLyB0aGlzLm1lc2gucG9zaXRpb24ueCA9IC10aGlzLndpbmRvd1dpZHRoSGFsZiArIHRoaXMubWVzaFdpZHRoSGFsZjtcclxuICAgIC8vIH1cclxuXHJcbiAgICBfcmVuZGVyKCkge1xyXG4gICAgICAgIGNvbnN0IHggPSAodGhpcy5tb3VzZVggLSB0aGlzLm1lc2gucG9zaXRpb24ueCkgLyB0aGlzLmZyaWN0aW9uO1xyXG4gICAgICAgIGNvbnN0IHkgPSAoLXRoaXMubW91c2VZIC0gdGhpcy5tZXNoLnBvc2l0aW9uLnkpIC8gdGhpcy5mcmljdGlvbjtcclxuICAgICAgICBjb25zdCBkZW5vbWluYXRvciA9IDUwMDAwO1xyXG4gICAgICAgIHRoaXMubWVzaC5wb3NpdGlvbi54ICs9IHg7XHJcbiAgICAgICAgdGhpcy5tZXNoLnBvc2l0aW9uLnkgKz0geTtcclxuICAgICAgICB0aGlzLm1lc2gucm90YXRpb24ueCArPSAoLXkgKiAuNSkgLyBkZW5vbWluYXRvcjtcclxuICAgICAgICB0aGlzLm1lc2gucm90YXRpb24ueSArPSAoLXggKiAuNSkgLyBkZW5vbWluYXRvcjtcclxuXHJcbiAgICAgICAgdGhpcy5tZXNoLm1hdGVyaWFsLm1hcC5uZWVkc1VwZGF0ZSA9IHRydWU7XHJcbiAgICB9XHJcblxyXG4gICAgb25SZXNpemUoKSB7XHJcbiAgICAgICAgdGhpcy5jYW52YXMub25SZXNpemUoKTtcclxuICAgICAgICB0aGlzLl9zZXRXaW5kb3dTaXplKCk7IC8vIHdpbmRvd+OBruOCteOCpOOCuuOCkuOCu+ODg+ODiFxyXG4gICAgICAgIHRoaXMuX3NldE1lc2hTY2FsZSgpOyAvLyBtZXNo44Gu44K144Kk44K644KS44K744OD44OIXHJcbiAgICB9XHJcblxyXG4gICAgb25SYWYoKSB7XHJcbiAgICAgICAgLy8gaWYgKHRoaXMubWVzaCkgdGhpcy5fc2V0TWVzaFBvc2l0aW9uKCk7XHJcbiAgICAgICAgdGhpcy5fcmVuZGVyKCk7XHJcbiAgICAgICAgdGhpcy5jYW52YXMub25SYWYoKTtcclxuICAgIH1cclxufSIsImltcG9ydCBTdGFnZSBmcm9tICcuL3dlYmdsL3N0YWdlJztcclxuaW1wb3J0IE1lc2ggZnJvbSAnLi93ZWJnbC9tZXNoJztcclxuXHJcbigoKSA9PiB7XHJcbiAgICBjb25zdCBzdGFnZSA9IG5ldyBTdGFnZSgpO1xyXG4gICAgc3RhZ2UuaW5pdCgpO1xyXG5cclxuICAgIGNvbnN0IG1lc2ggPSBuZXcgTWVzaChzdGFnZSk7XHJcbiAgICBtZXNoLmluaXQoKTtcclxuXHJcbiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigncmVzaXplJywgKCkgPT4ge1xyXG4gICAgICAgIHN0YWdlLm9uUmVzaXplKCk7O1xyXG4gICAgICAgIG1lc2gub25SZXNpemUoKVxyXG4gICAgfSk7XHJcblxyXG4gICAgY29uc3QgX3JhZiA9ICgpID0+IHtcclxuICAgICAgICB3aW5kb3cucmVxdWVzdEFuaW1hdGlvbkZyYW1lKCgpID0+IHtcclxuICAgICAgICAgICAgc3RhZ2Uub25SYWYoKTtcclxuICAgICAgICAgICAgbWVzaC5vblJhZigpO1xyXG5cclxuICAgICAgICAgICAgX3JhZigpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIF9yYWYoKTtcclxufSkoKTtcclxuIl0sInNvdXJjZVJvb3QiOiIifQ==